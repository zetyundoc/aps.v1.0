# GROUP BY

可选的GROUP BY子句的一般形式
```SQL
GROUP BY expression [, ...]
```
它将把所有在组合表达式上拥有相同值的行压缩成一行。 *expression*可以是一个输入字段名字， 或者是一个输出字段(SELECT列表项)的名字或序号， 或者也可以是任意输入字段组成的表达式。在有歧义的情况下， 一个GROUP BY的名字将被解释成输入字段的名字，而不是输出字段的名字。

如果使用了聚合函数，那么就会对每组中的所有行进行计算并生成一个单独的值 (而如果没有GROUP BY，那么聚合将对选出来的所有行计算出一个单独的值)。 如果出现了GROUP BY，那么SELECT 列表表达式中再引用那些没有分组的字段就是非法的，除非放在聚合函数里， 或未分组的字段函数上依赖于分组的字段，因为对于未分组的字段，可能会返回多个数值。 如果分组的字段（或它们的一个子集）是包含未分组字段的表的主键，那么存在一个函数依赖。

<br/>**示例**

```SQL
select a,sum(b) from t group by a;
```
<br/>**兼容性**

**GROUP BY 和 ORDER BY里可用的命名空间**

在 SQL-92 标准里，ORDER BY子句只能使用输出字段名或者编号， 而GROUP BY子句只能用基于输入字段名的表达式。EdsSQL 对这两个子句都进行了扩展，允许另外一种选择(但是如果存在歧义，则使用标准的解释)。 EdsSQL还允许两个子句声明任意的表达式。 请注意在表达式中出现的名字总是被当作输入字段名，而不是输出字段名。

SQL:1999 以及之后的一个略微不同的定义并不能和 SQL-92 完全向前兼容。不过， 在大多数情况下，EdsSQL将把一个ORDER BY 或GROUP BY表达式解析成为 SQL:1999 制定的那样。

**函数依赖**

EdsSQL只在表的主键包含在GROUP BY 列表中时识别函数依赖（允许在GROUP BY中省略字段）。 SQL标准指定应该被识别的附加条件。

<br/>**参见**

SELECT